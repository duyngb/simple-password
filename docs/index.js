(self.webpackChunkreasonml_password_challenge=self.webpackChunkreasonml_password_challenge||[]).push([[826],{987:(e,t,n)=>{"use strict";var r=n(294),a=n(935),i=n(127);a.render(r.createElement(i.make,{}),function(e){var t=document.createElement("div");t.className="container-row";var n=document.createElement("div");n.className="container";var r=document.createElement("div");r.className="containerTitle",r.innerText=e;var a=document.createElement("div");a.className="containerContent";var i=document.getElementById("main");return n.appendChild(r),n.appendChild(a),t.appendChild(n),i.appendChild(t),a}("Registering..."))},55:(e,t,n)=>{"use strict";var r=n(640),a=n(300),i=n(331),s=n(694),c=n(867),o=n(960);function d(e){return i.sub(e,1,e.length-1|0)}function u(e){return e>=65?e>=97?!(e>126||e<123):e>=91:e>=48?e>=58:e>=33}function l(e){return e>=48&&e<=57}function f(e,t){for(;;){var n=t,r=e;if(""===r)return!0;if(void 0===n)t=s.get(r,0),e=d(r);else{var a=s.get(r,0),i=d(r);if(n===a)return!1;t=a,e=i}}}function m(e){var t=c.emoji_folder(o.rev_utf16_be(o.str_to_list(e)));return r.exists((function(e){return 0!==e}),t)}function v(e){return r.exists((function(e){if(!e)return!1;var t=e[0];if(t<128072)return!1;if(t>=128074)return!1;var n=e[1];if(!n)return!0;var r=n[0];return r>=127995&&!(r>=128e3||n[1])}),c.emoji_folder(o.rev_utf16_be(o.str_to_list(e))))}function p(e,t){return i.contains(i.map((function(e){return a._1(t,e)?111:120}),e),111)}var h=[{c:function(e){return!0},r:"Please fill in your identity slowly.",d:function(e){return{content:"",respected:e.respected,passed:e.passed,failed:e.failed,showed:e.showed,iteration:e.iteration,disabled:!0,timer:e.timer}},t:1},[{c:function(e){return e.content.length>=8},r:"Password must be at least 8 characters.",d:void 0,t:0},[{c:function(e){return p(e.content,(function(e){return e>=65&&e<=90}))},r:"Password must contain at least one common Latin uppercase letter.",d:void 0,t:0},[{c:function(e){return p(e.content,(function(e){return e>=48&&e<=57}))},r:"Password must contain at least one Latin number.",d:void 0,t:0},[{c:function(e){return p(e.content,u)},r:"Password must contain at least one special character found on US keyboard.",d:void 0,t:0},[{c:function(e){return f(e.content,void 0)},r:"Password must not contain repetitive pattern.",d:void 0,t:1},[{c:function(e){return i.contains(e.content,113)},r:"Password must contain character 'q' (lowercase).",d:void 0,t:0},[{c:function(e){return m(e.content)},r:"Must have one emoji.",d:void 0,t:0},[{c:function(e){return v(e.content)},r:"Must point left or right.",d:void 0,t:0},[{c:function(e){return i.contains(e.content,120)},r:"Password must contain character 'x' (lowercase).",d:void 0,t:0},[{c:function(e){return 0!==e.content.length&&l(s.get(e.content,0)),!0},r:"Password must not begin with a number",d:void 0,t:1},[{c:function(e){return!i.contains(e.content,32)},r:"Space is not allowed in password (for an obvious security reason).",d:void 0,t:1},[{c:function(e){return e.content.length<=14},r:"Password must be at most 14 characters.",d:void 0,t:1},[{c:function(e){var t=e.respected;return void 0!==t&&t},r:"Press F to pay respect for the unfortunates...",d:function(e){return void 0===e.respected?{content:e.content,respected:!1,passed:e.passed,failed:e.failed,showed:e.showed,iteration:e.iteration,disabled:e.disabled,timer:e.timer}:e},t:1},0]]]]]]]]]]]]]];t.tail=d,t.isSpecialChar=u,t.isNumberEx=l,t.repetitiveChecker=f,t.isHasEmoji=m,t.emoPointer=v,t.contains=p,t.rules=h},850:(e,t,n)=>{"use strict";var r=n(640),a=n(562),i=n(574),s=n(300),c=n(294),o=n(849),d=n(813),u=n(55);function l(e,t){return a.of_list(r.mapi((function(t,n){return s._2(e,String(t),n)}),t))}function f(e){return!(!o.caml_equal(e.respected,!0)||void 0!==e.failed)&&e.iteration>0}function m(e,t){for(;;){var n=t,r=e;if(!r)return[n,void 0];var a=r[0];if(!a[0])return[n,a[1]];var i=r[1],s=a[1];s.t||(t=[s.r,n]),e=i}}function v(e,t){var n=e.content.length,a=t.length,i=d.abs(n-a|0);return a>2&&i>4?[0,r.hd(u.rules)]:m(r.combine(r.map((function(n){return s._1(n.c,{content:t,respected:e.respected,passed:e.passed,failed:e.failed,showed:e.showed,iteration:e.iteration,disabled:e.disabled,timer:e.timer})}),u.rules),u.rules),0)}function p(e,t,n){var r=e.respected;if(void 0!==r&&!r)return n.preventDefault(),s._1(t,i.__(1,[n.keyCode]))}function h(e,t){var n=v(e,t),a=n[1],i=o.caml_equal(e.respected,!1)?e.content:t,c=e.respected,d=r.rev(n[0]),u=(e.failed,e.showed),l=e.iteration,f=e.disabled,m=e.timer;if(void 0===a)return{content:i,respected:c,passed:d,failed:void 0,showed:u,iteration:l,disabled:f,timer:m};var p=o.caml_notequal(a.r,e.failed)?e.iteration+1|0:e.iteration,h=a.d;return void 0!==h?s._1(h,{content:i,respected:c,passed:d,failed:a.r,showed:u,iteration:p,disabled:f,timer:m}):{content:i,respected:c,passed:d,failed:a.r,showed:u,iteration:p,disabled:f,timer:m}}function b(e,t){if("number"==typeof t){if(0!==t)return{content:e.content,respected:e.respected,passed:e.passed,failed:e.failed,showed:!e.showed,iteration:e.iteration,disabled:e.disabled,timer:!0};var n=h(e,e.content);return{content:"",respected:void 0,passed:0,failed:n.failed,showed:!1,iteration:n.iteration,disabled:!1,timer:!1}}switch(0|t.tag){case 0:return h(e,t[0]);case 1:return h({content:e.content,respected:70===t[0],passed:e.passed,failed:e.failed,showed:e.showed,iteration:e.iteration,disabled:e.disabled,timer:e.timer},e.content);case 2:return setTimeout(t[0],5e3),{content:e.content,respected:e.respected,passed:0,failed:r.hd(u.rules).r,showed:e.showed,iteration:e.iteration+1|0,disabled:!0,timer:e.timer};case 3:return{content:e.content,respected:e.respected,passed:e.passed,failed:e.failed,showed:e.showed,iteration:e.iteration,disabled:t[0],timer:e.timer}}}function g(e){var t=e.onTimerEnd,n=void 0!==t?t:function(e){};return c.createElement("div",{className:"progress"},c.createElement("div",{className:"progress-bar",onAnimationEnd:n}))}var _={make:g};t.fxi=l,t.initState={content:"",respected:void 0,passed:0,failed:void 0,showed:!1,iteration:0,disabled:!1,timer:!1},t.isStateValid=f,t.ruleSplit=m,t.ruleReasons=function(e){return r.map((function(e){return e.r}),e)},t.findFailed=v,t.keydownHandler=p,t.stateCheck=h,t.reducer=b,t.Timer=_,t.make=function(e){var t,n,r=e.disabled,a=e.passed,o=e.name,d=e.repeat,u=e.onContent,m=void 0!==r&&r,v=void 0!==a&&a,h=void 0!==o?o:"password",_=void 0!==d&&d,w=void 0!==u?u:function(e,t){},E=c.useReducer(b,{content:"",respected:!!_||void 0,passed:0,failed:void 0,showed:!1,iteration:0,disabled:!1,timer:!1}),k=E[1],y=E[0];if(c.useEffect((function(){s._1(k,i.__(3,[m]))}),[m]),c.useEffect((function(){s._2(w,y.content,f(y))}),[y]),0===y.iteration||_||v)t=null;else{var N=y.failed;t=c.createElement("div",{className:"input-group"},c.createElement("div",{className:"reasons"},l((function(e,t){return c.createElement("div",{key:e,className:"passed"},t)}),y.passed),void 0!==N?c.createElement("div",{key:String(y.iteration),className:"failed"},N):c.createElement("p",void 0,"You are good to go!")))}if(y.iteration>=0&&_){var C=y.failed;n=void 0!==C?c.createElement("div",{className:"input-group"},c.createElement("div",{className:"reasons"},c.createElement("div",{key:String(y.iteration),className:"failed"},C))):null}else n=null;return c.createElement(c.Fragment,void 0,c.createElement("div",{className:"input-group"},c.createElement("label",{className:"prepend preserved-width"},"Password"),c.createElement("input",{autoComplete:"new-password",disabled:y.disabled,maxLength:25,minLength:8,name:h,placeholder:_?"Repeat your above secret":"Just a simple password...",required:!0,type:y.showed?"text":"password",value:y.content,onPaste:function(e){return s._1(k,i.__(2,[function(e){return s._1(k,0)}]))},onKeyDown:function(e){return p(y,k,e)},onChange:function(e){return s._1(k,i.__(0,[e.target.value]))},onDrop:function(e){e.preventDefault()}}),y.iteration<=0||y.disabled||_?null:c.createElement("button",{className:"append button",reversed:y.showed,onClick:function(e){return s._1(k,1)}},c.createElement("i",void 0,"Hint"))),y.timer?c.createElement("div",{className:"input-group"},c.createElement("div",{className:"prepend preserved-width"}),c.createElement(g,{onTimerEnd:function(e){return s._1(k,0)}})):null,t,n)}},127:(e,t,n)=>{"use strict";var r=n(574),a=n(300),i=n(294),s=n(850),c=n(873),o={key:0,uservalid:!1,c1:"",c1valid:!1,c2:"",c2valid:!1,stage:0};function d(e,t){if("number"==typeof t){if(0!==t)return{key:e.key+1|0,uservalid:!1,c1:"",c1valid:!1,c2:"",c2valid:!1,stage:0};var n=e.stage,r=1!==n?0!==n?3:1:2;return r===e.stage?{key:e.key+1|0,uservalid:!1,c1:"",c1valid:!1,c2:"",c2valid:!1,stage:0}:{key:e.key,uservalid:e.uservalid,c1:e.c1,c1valid:e.c1valid,c2:e.c2,c2valid:e.c2valid,stage:r}}switch(0|t.tag){case 0:return{key:e.key,uservalid:t[1],c1:e.c1,c1valid:e.c1valid,c2:e.c2,c2valid:e.c2valid,stage:e.stage};case 1:return{key:e.key,uservalid:e.uservalid,c1:t[0],c1valid:t[1],c2:e.c2,c2valid:e.c2valid,stage:e.stage};case 2:return{key:e.key,uservalid:e.uservalid,c1:e.c1,c1valid:e.c1valid,c2:t[0],c2valid:t[1],stage:e.stage}}}function u(e){return 3===e.stage||!(!e.uservalid||e.stage>=1&&!e.c1valid)&&(!(e.stage>=2)||e.c2valid)}t.initState=o,t.reducer=d,t.stateValid=u,t.r=function(e,t){return e?t:null},t.make=function(e){var t,n,l=i.useReducer(d,o),f=l[1],m=l[0];switch(m.stage){case 0:t="Please choose a name for your eternity";break;case 1:t="Please prove yourself";break;case 2:t="Please repeat yourself for confirmation";break;case 3:t="That is. What a day!"}switch(m.stage){case 0:n="I accept the risk";break;case 1:case 2:n="I'm done";break;case 3:n="What a day!"}return i.createElement("div",{key:String(m.key),className:"reg-form"},i.createElement("p",void 0,t),i.createElement("div",{className:"rows"},i.createElement(c.make,{disabled:0!==m.stage,onContent:function(e,t){return a._1(f,r.__(0,[e,t]))}}),m.stage>=1?i.createElement(s.make,{disabled:1!==m.stage,passed:m.stage>1,onContent:function(e,t){return a._1(f,r.__(1,[e,t]))}}):null,m.stage>=2?i.createElement(s.make,{disabled:2!==m.stage,passed:m.stage>2,name:"password2",repeat:!0,onContent:function(e,t){return a._1(f,r.__(2,[e,t]))}}):null),i.createElement("div",{className:"rows"},i.createElement("div",{className:"input-group"},i.createElement("button",{className:"button",disabled:!u(m),onClick:function(e){return a._1(f,0)}},n),i.createElement("button",{className:"button append danger",onClick:function(e){return a._1(f,1)}},"start over"))),i.createElement("p",{className:"note"},i.createElement("i",void 0,"All fields are required")))}},873:(e,t,n)=>{"use strict";var r=n(300),a=n(294),i=n(331),s=n(55);function c(e,t){var n=t.target.value;return r._2(e,n,n.length>=5&&!i.contains(n,32)&&!s.contains(n,s.isSpecialChar))}t.onChange=c,t.make=function(e){var t=e.disabled,n=e.onContent,r=void 0!==n?n:function(e,t){};return a.createElement("div",{className:"input-group"},a.createElement("label",{className:"prepend preserved-width"},"Username"),a.createElement("input",{autoComplete:"off",disabled:t,name:"username",placeholder:"This would be permanent",required:!0,type:"text",onChange:function(e){return c(r,e)}}))}},867:(e,t,n)=>{"use strict";var r=n(640);function a(e,t){if(t.state)return{acc:[[e,t.buff],t.acc],buff:0,state:0};if(e>=65038){if(e>=127995){if(e<128e3)return{acc:t.acc,buff:[e,0],state:1}}else if(e<65040)return{acc:t.acc,buff:[e,0],state:1}}else if(8205===e){var n=t.acc,r=n?[n[0],n[1]]:[0,0];return{acc:r[1],buff:[e,r[0]],state:1}}return e>=127536&&e<129696?{acc:[[e,0],t.acc],buff:t.buff,state:t.state}:t}t.emoji_folder=function(e){return r.fold_right(a,e,{acc:0,buff:0,state:0}).acc}},960:(e,t,n)=>{"use strict";var r=n(640),a=n(562),i=n(331),s=n(231),c=n(813);function o(e,t,n){return 0!==e?e<=55295?[e,n]:e<=57343?n:e<=65535?[e,n]:e<=1114111?[e>>>10&1023|55296,[1023&e|56320,n]]:n:n}function d(e,t,n){return 0!==e?e<=55295?[e,n]:e<=56319?[65536|1023&t|(1023&e)<<10,n]:e<=57343?n:[e,n]:n}t.str_to_list=function(e){var t=s.caml_make_vect(e.length,0);return i.iteri((function(e,n){return s.caml_array_set(t,e,n)}),e),a.to_list(t)},t.rev_utf16_be=function(e){return r.fold_right2(d,c.$at([0,0],e),c.$at(e,[0,0]),0)},t.fwd_utf16_be=function(e){return r.fold_right2(o,c.$at([0,0],e),c.$at(e,[0,0]),0)}}},e=>{"use strict";e.O(0,[216],(()=>(987,e(e.s=987)))),e.O()}]);